/**
 * Extended Styles for Modern Header Redesign
 * Дополнительные стили для расширенной версии заголовка
 * Включает: статистику, альтернативные варианты кнопок, дополнительные эффекты
 */

/* ===== Блок статистики в заголовке ===== */
.header-stats {
  display: flex;
  gap: 2rem;
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border-color);
}

.stat-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.875rem;
  color: var(--text-secondary);
}

.stat-item i {
  font-size: 1rem;
  color: var(--primary-color);
  opacity: 0.7;
}

.stat-value {
  font-weight: 700;
  font-size: 1.125rem;
  color: var(--text-primary);
}

.stat-label {
  color: var(--text-muted);
}

/* ===== Альтернативные стили кнопок ===== */

/* Вариант 1: Кнопки с градиентной рамкой */
.action-button.gradient-border {
  background: var(--bg-primary);
  position: relative;
  z-index: 1;
}

.action-button.gradient-border::after {
  content: '';
  position: absolute;
  inset: -2px;
  background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
  border-radius: var(--radius-lg);
  z-index: -1;
  opacity: 0;
  transition: opacity var(--transition-base);
}

.action-button.gradient-border:hover::after {
  opacity: 1;
}

/* Вариант 2: Кнопки с неоновым эффектом */
.action-button.neon {
  box-shadow:
    0 0 5px var(--primary-color),
    0 0 10px var(--primary-color),
    0 0 15px var(--primary-color);
  transition: all var(--transition-base);
}

.action-button.neon:hover {
  box-shadow:
    0 0 10px var(--primary-color),
    0 0 20px var(--primary-color),
    0 0 30px var(--primary-color),
    0 0 40px var(--primary-color);
}

/* Вариант 3: Минималистичные кнопки */
.action-button.minimal {
  background: transparent;
  border: none;
  color: var(--text-primary);
  padding: 0.5rem 1rem;
  box-shadow: none;
}

.action-button.minimal:hover {
  background: var(--bg-secondary);
  transform: none;
}

.action-button.minimal.primary {
  color: var(--primary-color);
  font-weight: 700;
}

/* ===== Компактная версия заголовка ===== */
.page-header.compact {
  padding: 1rem 0;
}

.page-header.compact .header-icon {
  width: 48px;
  height: 48px;
}

.page-header.compact .header-icon i {
  font-size: 1.25rem;
}

.page-header.compact .page-title {
  font-size: 1.5rem;
}

.page-header.compact .page-subtitle {
  font-size: 0.875rem;
}

.page-header.compact .action-button {
  padding: 0.5rem 1rem;
  font-size: 0.875rem;
}

/* ===== Версия с фоновым изображением ===== */
.page-header.with-background {
  background-image:
    linear-gradient(135deg, rgba(var(--bg-primary-rgb), 0.95), rgba(var(--bg-secondary-rgb), 0.95)),
    url('/static/images/header-pattern.svg');
  background-size: cover;
  background-position: center;
}

/* ===== Sticky заголовок ===== */
.page-header.sticky {
  position: sticky;
  top: 0;
  z-index: 100;
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.9);
  box-shadow: var(--shadow-md);
}

.page-header.sticky.scrolled {
  padding: 1rem 0;
  transition: padding var(--transition-base);
}

/* ===== Дополнительные иконки для кнопок ===== */
.action-button .icon-badge {
  position: absolute;
  top: -4px;
  right: -4px;
  width: 20px;
  height: 20px;
  background: var(--accent-color);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
}

/* ===== Анимированные индикаторы загрузки ===== */
.action-button.loading {
  pointer-events: none;
  opacity: 0.7;
}

.action-button.loading span {
  visibility: hidden;
}

.action-button.loading::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  border: 2px solid transparent;
  border-top-color: currentColor;
  border-radius: 50%;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: translate(-50%, -50%) rotate(360deg); }
}

/* ===== Версия для печати ===== */
@media print {
  .page-header {
    background: white;
    border-bottom: 2px solid black;
    padding: 1rem 0;
  }

  .page-header::before {
    display: none;
  }

  .header-actions {
    display: none;
  }

  .page-title {
    background: none;
    -webkit-text-fill-color: black;
    color: black;
  }
}

/* ===== Высококонтрастный режим ===== */
@media (prefers-contrast: high) {
  .page-header {
    background: white;
    border-bottom: 3px solid black;
  }

  .action-button {
    border: 2px solid currentColor;
  }

  .action-button.primary {
    background: black;
    color: white;
  }

  .action-button.secondary {
    background: white;
    color: black;
  }
}

/* ===== RTL поддержка ===== */
[dir="rtl"] .header-content {
  direction: rtl;
}

[dir="rtl"] .header-main {
  flex-direction: row-reverse;
}

[dir="rtl"] .header-actions {
  flex-direction: row-reverse;
}

[dir="rtl"] .action-button i {
  margin-right: 0;
  margin-left: 0.625rem;
}

[dir="rtl"] .action-button:hover i {
  transform: translateX(-2px);
}

/* ===== Дополнительные утилиты ===== */
.header-divider {
  width: 1px;
  height: 40px;
  background: var(--border-color);
  margin: 0 1rem;
}

.header-badge {
  background: var(--accent-color);
  color: white;
  padding: 0.25rem 0.75rem;
  border-radius: var(--radius-xl);
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* ===== Интеграция с существующими стилями ===== */
.page-header + .status-breakdown-dashboard {
  margin-top: -1rem; /* Уменьшаем отступ между секциями */
}

/* Адаптация под существующую цветовую схему сайта */
.page-header {
  /* Переопределение переменных для соответствия корпоративному стилю */
  --primary-color: #0066cc; /* Корпоративный синий */
  --primary-hover: #0052a3;
  --primary-light: #e6f2ff;
  --primary-dark: #004080;
}
