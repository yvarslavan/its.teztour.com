# üöÄ –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô –ü–û–°–õ–ï –≠–ö–°–ü–û–†–¢–ê –í GITLAB

## ‚úÖ **–ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û:**
- [x] –ü—Ä–æ–µ–∫—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∏–∑ GitHub –≤ GitLab
- [x] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.gitlab-ci.yml` —Å –ø–æ–ª–Ω—ã–º CI/CD pipeline
- [x] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

## üìã **–ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°:**

### üî• **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û - –ü–µ—Ä–≤—ã–µ 30 –º–∏–Ω—É—Ç:**

#### 1Ô∏è‚É£ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ GitLab**
```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ GitLab:
# Your Project ‚Üí Settings ‚Üí CI/CD ‚Üí Variables

# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –¥–µ–ø–ª–æ—è:
SSH_PRIVATE_KEY    # –í–∞—à –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á
DEPLOY_HOST        # IP –∞–¥—Ä–µ—Å production —Å–µ—Ä–≤–µ—Ä–∞
DEPLOY_USER        # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –¥–µ–ø–ª–æ—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: deployer)
DEPLOY_PATH        # –ü—É—Ç—å –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é (/var/www/flask_helpdesk)

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
DB_HOST           # MySQL —Å–µ—Ä–≤–µ—Ä
DB_USER           # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î
DB_PASSWORD       # –ü–∞—Ä–æ–ª—å –ë–î
DB_NAME           # –ù–∞–∑–≤–∞–Ω–∏–µ –ë–î

# Flask –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
FLASK_ENV         # production
SECRET_KEY        # –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Flask
```

#### 2Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä–∫–∞ GitLab Runner**
```bash
# –í GitLab –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤:
Settings ‚Üí CI/CD ‚Üí Runners

# –ï—Å–ª–∏ –Ω–µ—Ç Shared runners:
# - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π GitLab Runner
# - –ò–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É GitLab
```

#### 3Ô∏è‚É£ **–ü–µ—Ä–≤—ã–π commit –∏ –∑–∞–ø—É—Å–∫ pipeline**
```bash
# –í –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞:
git add .gitlab-ci.yml GITLAB_SETUP_VARIABLES.md GITLAB_NEXT_STEPS.md
git commit -m "üöÄ Add GitLab CI/CD pipeline and setup guides"
git push origin main

# –°—Ä–∞–∑—É –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ GitLab ‚Üí CI/CD ‚Üí Pipelines
# –∏ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º pipeline
```

### ‚è∞ **–ü–ï–†–í–´–ô –ß–ê–° - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:**

#### 4Ô∏è‚É£ **–ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–µ—Ä–≤–æ–≥–æ pipeline**
- ‚úÖ **validate_project** - –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ —É—Å–ø–µ—à–Ω–æ
- ‚è≥ **test_dependencies** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚è≥ **build_application** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞
- ‚ö†Ô∏è **deploy_staging** - –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ)

#### 5Ô∏è‚É£ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫**
–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:

**üî¥ –û—à–∏–±–∫–∞ SSH –∫–ª—é—á–∞:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SSH –∫–ª—é—á –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ ~/.ssh/id_rsa –ø–æ–ª–Ω–æ—Å—Ç—å—é, –≤–∫–ª—é—á–∞—è:
# -----BEGIN OPENSSH PRIVATE KEY-----
# [—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–ª—é—á–∞]
# -----END OPENSSH PRIVATE KEY-----
```

**üî¥ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ requirements.txt –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
# –í–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤
```

**üî¥ –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ SSH
ssh your-user@your-server

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ ~/.ssh/authorized_keys
```

### üìÖ **–ü–ï–†–í–´–ô –î–ï–ù–¨ - –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**

#### 6Ô∏è‚É£ **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ production —Å–µ—Ä–≤–µ—Ä–∞**
```bash
# –ù–∞ production —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –¥–µ–ø–ª–æ—è:
sudo adduser deployer
sudo usermod -aG sudo deployer
sudo usermod -aG www-data deployer

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏:
sudo mkdir -p /home/deployer/.ssh
echo "your-public-key" | sudo tee /home/deployer/.ssh/authorized_keys
sudo chown -R deployer:deployer /home/deployer/.ssh
sudo chmod 700 /home/deployer/.ssh
sudo chmod 600 /home/deployer/.ssh/authorized_keys
```

#### 7Ô∏è‚É£ **–°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞:
sudo tee /etc/systemd/system/flask-helpdesk.service << EOF
[Unit]
Description=Flask Helpdesk Application
After=network.target

[Service]
Type=notify
User=www-data
Group=www-data
WorkingDirectory=/var/www/flask_helpdesk
Environment=PATH=/var/www/flask_helpdesk/venv/bin
ExecStart=/var/www/flask_helpdesk/venv/bin/gunicorn --bind 0.0.0.0:5000 --workers 4 wsgi:application
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
EOF

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å:
sudo systemctl daemon-reload
sudo systemctl enable flask-helpdesk
```

#### 8Ô∏è‚É£ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ staging –¥–µ–ø–ª–æ—è**
```bash
# –í GitLab –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ build_application:
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ CI/CD ‚Üí Pipelines
# 2. –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π pipeline
# 3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ deploy_staging (–µ—Å–ª–∏ –µ—Å—Ç—å)
# 4. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ –≤—Ä—É—á–Ω—É—é

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É staging:
curl http://your-staging-server:5001
```

### üìä **–ü–ï–†–í–ê–Ø –ù–ï–î–ï–õ–Ø - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**

#### 9Ô∏è‚É£ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
```bash
# –í GitLab ‚Üí Settings ‚Üí Integrations ‚Üí Slack/Teams
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ:
# - –£—Å–ø–µ—à–Ω—ã—Ö –¥–µ–ø–ª–æ—è—Ö
# - –û—à–∏–±–∫–∞—Ö –≤ pipeline
# - Merge Request —Å—Ç–∞—Ç—É—Å–∞—Ö
```

#### üîü **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
```bash
# –î–æ–±–∞–≤—å—Ç–µ health check endpoint –≤ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Prometheus + Grafana)
```

## üéØ **–ö–û–ù–¢–†–û–õ–¨–ù–´–ï –¢–û–ß–ö–ò:**

### ‚úÖ **–ß–µ—Ä–µ–∑ 1 —á–∞—Å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- [ ] Pipeline –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç validate + test —ç—Ç–∞–ø—ã
- [ ] SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### ‚úÖ **–ß–µ—Ä–µ–∑ 1 –¥–µ–Ω—å –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- [ ] Staging –¥–µ–ø–ª–æ–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] Production –¥–µ–ø–ª–æ–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é)
- [ ] –°–µ—Ä–≤–µ—Ä –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–µ–ø–ª–æ–µ–≤

### ‚úÖ **–ß–µ—Ä–µ–∑ 1 –Ω–µ–¥–µ–ª—é –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- [ ] –ö–æ–º–∞–Ω–¥–∞ –æ–±—É—á–µ–Ω–∞ —Ä–∞–±–æ—Ç–µ —Å GitLab
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –†–∞–±–æ—Ç–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –±—ç–∫–∞–ø—ã

## üÜò **–≠–ö–°–¢–†–ï–ù–ù–ê–Ø –ü–û–ú–û–©–¨:**

### –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ pipeline** - —Ç–∞–º –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
2. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞** - ping, ssh –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** - –æ—Å–æ–±–µ–Ω–Ω–æ SSH_PRIVATE_KEY –∏ –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å—Ä–æ—á–Ω–∞—è –ø–æ–º–æ—â—å:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª–Ω—ã–π –ª–æ–≥ –æ—à–∏–±–∫–∏ –∏–∑ GitLab
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å GitLab Runner
3. –í—Ä–µ–º–µ–Ω–Ω–æ –º–æ–∂–µ—Ç–µ –¥–µ–ø–ª–æ–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SSH

## üìû **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:**

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–≤–æ–≥–æ pipeline:

1. **–°–æ–∑–¥–∞–π—Ç–µ feature branch** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Merge Request –ø—Ä–æ—Ü–µ—Å—Å–∞
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞—â–∏—Ç—É main –≤–µ—Ç–∫–∏** - –∑–∞–ø—Ä–µ—Ç–∏—Ç–µ –ø—Ä—è–º—ã–µ push
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π staging –¥–µ–ø–ª–æ–π** –¥–ª—è –≤—Å–µ—Ö MR
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å** –¥–ª—è –∫–æ–º–∞–Ω–¥—ã

---

**üéâ –ü–û–ó–î–†–ê–í–õ–Ø–ï–ú! –í—ã —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ —Å GitHub –Ω–∞ GitLab —Å –ø–æ–ª–Ω—ã–º CI/CD pipeline!**
