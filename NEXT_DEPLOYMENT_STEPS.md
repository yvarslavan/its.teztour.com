# üöÄ –ü–õ–ê–ù –ü–†–û–î–û–õ–ñ–ï–ù–ò–Ø –î–ï–ü–õ–û–Ø - –ü–û–°–õ–ï –í–û–°–°–¢–ê–ù–û–í–õ–ï–ù–ò–Ø –°–ï–†–í–ò–°–ê

## ‚úÖ **–¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°:**
- Flask Helpdesk —Å–µ—Ä–≤–∏—Å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ: `/var/www/flask_helpdesk/venv/`
- –°–µ—Ä–≤–∏—Å –∞–∫—Ç–∏–≤–µ–Ω: `sudo systemctl status flask-helpdesk` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `active (running)`
- –õ–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üéØ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò –î–õ–Ø –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–ò –î–ï–ü–õ–û–Ø:**

### 1Ô∏è‚É£ **–ù–ï–ú–ï–î–õ–ï–ù–ù–û - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitLab –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ GitLab –ø—Ä–æ–µ–∫—Ç ‚Üí Settings ‚Üí CI/CD ‚Üí Variables –∏ –¥–æ–±–∞–≤—å—Ç–µ:

```bash
# SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
SSH_PRIVATE_KEY    # –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ ~/.ssh/id_rsa
DEPLOY_HOST        # IP –≤–∞—à–µ–≥–æ Ubuntu —Å–µ—Ä–≤–µ—Ä–∞
DEPLOY_USER        # yvarslavan (–∏–ª–∏ deployer)
DEPLOY_PORT        # 22 (–∏–ª–∏ –≤–∞—à SSH –ø–æ—Ä—Ç)

# –ü—É—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
DEPLOY_PATH        # /var/www/flask_helpdesk

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
DB_HOST           # localhost –∏–ª–∏ IP MySQL —Å–µ—Ä–≤–µ—Ä–∞
DB_USER           # –≤–∞—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å MySQL
DB_PASSWORD       # –ø–∞—Ä–æ–ª—å MySQL
DB_NAME           # –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

# Flask –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
FLASK_ENV         # production
SECRET_KEY        # —Å–ª—É—á–∞–π–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è Flask
```

### 2Ô∏è‚É£ **–¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï - –ó–∞–ø—É—Å–∫ –ø–µ—Ä–≤–æ–≥–æ pipeline**

```bash
# –í –ª–æ–∫–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ:
git add .
git commit -m "üöÄ Ready for automated deployment - service restored"
git push origin main

# –ó–∞—Ç–µ–º –≤ GitLab:
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ CI/CD ‚Üí Pipelines
# 2. –ù–∞–π–¥–∏—Ç–µ –Ω–æ–≤—ã–π pipeline
# 3. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º —ç—Ç–∞–ø–æ–≤:
#    ‚úÖ validate_project
#    ‚úÖ test_dependencies
#    ‚úÖ build_application
#    üü° deploy_to_server (manual - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é)
```

### 3Ô∏è‚É£ **–î–ï–ü–õ–û–ô - –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ build_application:

1. **–í GitLab Pipeline –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Play" –Ω–∞ —ç—Ç–∞–ø–µ `deploy_to_server`**
2. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –¥–µ–ø–ª–æ—è** - –æ–Ω–∏ –ø–æ–∫–∞–∂—É—Ç –∫–∞–∂–¥—ã–π —à–∞–≥
3. **–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**

```bash
# –§–∏–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ Ubuntu —Å–µ—Ä–≤–µ—Ä–µ:
sudo systemctl daemon-reload
sudo systemctl restart flask-helpdesk
sudo chown -R www-data:www-data /var/www/flask_helpdesk/flask_session
sudo chown -R www-data:www-data /var/www/flask_helpdesk/logs

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
sudo systemctl status flask-helpdesk
sudo journalctl -u flask-helpdesk -f
```

### 4Ô∏è‚É£ **–ü–†–û–í–ï–†–ö–ê - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
curl http://localhost:5000/health || curl http://localhost:5000/
systemctl status flask-helpdesk
journalctl -u flask-helpdesk --lines=20

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
# –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://–≤–∞—à-ip:5000
```

## üîß **–í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø:**

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: SSH –∫–ª—é—á –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
```bash
# –†–µ—à–µ–Ω–∏–µ:
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∫–ª—é—á–∞ –≤ GitLab –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
# 2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys
```

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: Pipeline –ø–∞–¥–∞–µ—Ç –Ω–∞ test_dependencies**
```bash
# –†–µ—à–µ–Ω–∏–µ:
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ requirements.txt –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å
# 2. –í–æ–∑–º–æ–∂–Ω–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤
```

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: –î–µ–ø–ª–æ–π –Ω–µ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Ñ–∞–π–ª—ã**
```bash
# –†–µ—à–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
sudo systemctl stop flask-helpdesk
sudo chown -R yvarslavan:yvarslavan /var/www/flask_helpdesk
# –ó–∞—Ç–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–µ–ø–ª–æ–π
```

### ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è**
```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
sudo systemctl status flask-helpdesk
sudo journalctl -u flask-helpdesk --lines=50

# –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
# 1. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ - –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ venv
# 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ - –∏—Å–ø—Ä–∞–≤—å—Ç–µ chown
# 3. –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ netstat -tlnp | grep :5000
```

## üìä **–ú–û–ù–ò–¢–û–†–ò–ù–ì –î–ï–ü–õ–û–Ø:**

### –í–æ –≤—Ä–µ–º—è –¥–µ–ø–ª–æ—è —Å–ª–µ–¥–∏—Ç–µ –∑–∞:
1. **GitLab Pipeline –ª–æ–≥–∏** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å
2. **SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫
3. **Disk space** - pipeline –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
4. **Service status** - —Å–µ—Ä–≤–∏—Å –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. **–°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞:** `sudo systemctl status flask-helpdesk`
2. **–õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** `sudo journalctl -u flask-helpdesk -f`
3. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

## üéâ **–ü–û–°–õ–ï –£–°–ü–ï–®–ù–û–ì–û –î–ï–ü–õ–û–Ø:**

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –¥–µ–ø–ª–æ–∏** - –∫–∞–∂–¥—ã–π push –≤ main –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ø–ª–æ–∏—Ç—å—Å—è
2. **–°–æ–∑–¥–∞–π—Ç–µ staging –æ–∫—Ä—É–∂–µ–Ω–∏–µ** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–æ–º
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - –≤ Slack/Teams –æ —Å—Ç–∞—Ç—É—Å–µ –¥–µ–ø–ª–æ–µ–≤
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å** - –¥–ª—è –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üÜò **–≠–ö–°–¢–†–ï–ù–ù–´–ô –û–¢–ö–ê–¢:**

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
cd /var/www
sudo systemctl stop flask-helpdesk

# –ï—Å–ª–∏ –µ—Å—Ç—å backup:
sudo rm -rf flask_helpdesk
sudo mv flask_helpdesk_backup flask_helpdesk
sudo systemctl start flask-helpdesk

# –ò–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ Git:
sudo rm -rf flask_helpdesk
git clone https://your-repo-url.git flask_helpdesk
cd flask_helpdesk
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
sudo systemctl start flask-helpdesk
```

---

**üöÄ –ì–û–¢–û–í–´ –ö –ó–ê–ü–£–°–ö–£ –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ì–û –î–ï–ü–õ–û–Ø!**

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ GitLab –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–µ—Ä–≤—ã–π pipeline.
