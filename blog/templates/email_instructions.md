# Инструкция по внедрению и тестированию шаблона электронного письма

## Общая информация

Обновленный шаблон email-рассылки создан с учетом современных стандартов верстки электронных писем и включает в себя следующие улучшения:

1. Адаптивный дизайн для корректного отображения на мобильных устройствах
2. Валидный HTML-код с правильной кодировкой для поддержки кириллицы
3. Оптимизированная структура таблиц для совместимости с почтовыми клиентами
4. Выделенные блоки для контактной информации и социальных сетей
5. Альтернативный текст для случаев, когда HTML не отображается
6. Внешние стили перемещены в тег `<head>` с сохранением критических инлайновых стилей

## Инструкция по внедрению

### 1. Вставка контента

Для добавления основного текста письма используйте секцию, отмеченную комментарием:
```html
<!-- Место для основного текста письма -->
<td style="background-color: #ffffff; padding: 20px;">
  <!-- Здесь будет размещаться основной текст письма -->
</td>
```

### 2. Работа с изображениями

#### Вариант с абсолютными URL (рекомендуемый)

В текущей версии шаблона используются абсолютные URL-адреса для всех изображений:

```html
<img src="https://tez-tour.com/images/logo.png" alt="Tez Tour" width="211" height="62">
```

Используйте этот подход, если:
- У вас есть доступ к серверу для размещения изображений
- Изображения должны быть доступны через интернет

Убедитесь, что указанные URL существуют и доступны всем получателям писем.

#### Вариант с CID (вложенные изображения)

Если вы хотите использовать вложенные в письмо изображения, используйте CID-ссылки:

```html
<img src="cid:logo@example.com" alt="Tez Tour" width="211" height="62">
```

При этом подходе:
1. Каждому изображению присвойте уникальный CID (Content-ID)
2. Включите изображения как вложения в письмо
3. Установите каждому вложению соответствующий Content-ID
4. Используйте эти же Content-ID в src атрибутах img тегов, добавляя префикс "cid:"

Пример формирования CID (для программной отправки письма):
```
Content-Type: image/png
Content-Transfer-Encoding: base64
Content-ID: <logo@example.com>
```

### 3. Обновление контактной информации

При необходимости обновите контактную информацию в блоке:
```html
<div class="contact-info">
  <strong>Мы на связи!</strong><br>
  Email: <a href="mailto:help@tez-tour.com">help@tez-tour.com</a><br>
  Телефон: +7 495 775 10 09 (доб. 1000)
</div>
```

## Тестирование шаблона

### 1. Проверка в популярных почтовых клиентах

Обязательно протестируйте шаблон в следующих почтовых клиентах:
- Outlook (все версии)
- Gmail (веб-интерфейс и приложение)
- Apple Mail
- Thunderbird
- Yahoo Mail
- Мобильные приложения почты (iOS Mail, Gmail для Android)

### 2. Проверка отображения на разных устройствах

Используйте следующую методику тестирования:
- Отправьте тестовое письмо на разные почтовые ящики
- Откройте письмо на устройствах с разными размерами экрана:
  - Настольный компьютер/ноутбук
  - Планшет
  - Смартфон

### 3. Проверка отображения кириллицы

Особое внимание уделите корректному отображению русских символов:
- Проверьте заголовки и основной текст
- Убедитесь в правильном отображении текста в разных разделах письма

### 4. Проверка альтернативного текста

Для проверки альтернативного текста:
1. В настройках почтового клиента отключите отображение HTML
2. Убедитесь, что текст из скрытого блока отображается корректно

### 5. Проверка отображения изображений

Проверьте корректность отображения всех изображений:
- Убедитесь, что все картинки загружаются и отображаются
- Проверьте размеры и пропорции изображений
- Проверьте альтернативный текст (атрибут alt) для случаев, когда изображения не загружаются

#### Решение проблемы с неотображающимися изображениями

Если изображения не отображаются:

1. **Проверьте URL-адреса:**
   - Убедитесь, что все URL доступны и указывают на реальные файлы
   - Проверьте правильность написания URL (включая http/https)
   - Убедитесь, что сервер, на котором расположены изображения, позволяет подключения с других доменов (CORS)

2. **Для CID-ссылок:**
   - Проверьте соответствие CID в HTML и в заголовках вложений
   - Убедитесь, что изображения действительно прикреплены к письму
   - Проверьте формат CID (добавление префикса `cid:` и угловых скобок в заголовке Content-ID)

3. **Резервный вариант:**
   - Для критически важных элементов дизайна используйте базовые HTML/CSS без изображений
   - Для иконок соцсетей можно использовать Unicode-символы как запасной вариант

## Советы по дальнейшей оптимизации

1. **Инлайновые стили**: Для некоторых почтовых клиентов (особенно Outlook) может потребоваться дополнительная инлайновая стилизация. Используйте специальные инструменты для автоматической inline-стилизации, например, [Mailchimp's CSS Inliner](https://templates.mailchimp.com/resources/inline-css/).

2. **Тестирование**: Для всестороннего тестирования рекомендуется использовать сервисы Litmus или Email on Acid, которые позволяют просматривать, как письмо будет выглядеть в десятках почтовых клиентов.

3. **Темная тема**: Для улучшения пользовательского опыта рассмотрите возможность добавления поддержки темной темы с помощью медиа-запросов.

4. **Оптимизация изображений**: Уменьшите размер файлов изображений для более быстрой загрузки писем.

## Решение типичных проблем

### Проблемы с отображением в Outlook

Если возникают проблемы с отображением в Outlook, добавьте следующие условные комментарии вокруг проблемных секций:

```html
<!--[if mso]>
<table role="presentation" width="100%" cellspacing="0" cellpadding="0" border="0">
  <tr>
    <td>
<![endif]-->

<!-- Проблемный контент -->

<!--[if mso]>
    </td>
  </tr>
</table>
<![endif]-->
```

### Проблемы с отображением на мобильных устройствах

Если кнопки или другие элементы выглядят слишком маленькими на мобильных устройствах, добавьте дополнительные медиа-запросы с увеличенным размером шрифта и отступами:

```css
@media screen and (max-width: 480px) {
  .button {
    padding: 12px 24px !important;
    font-size: 18px !important;
  }
}
```
