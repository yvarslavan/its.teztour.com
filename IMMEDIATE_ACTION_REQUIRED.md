# üö® –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø –¢–†–ï–ë–£–Æ–¢–°–Ø

## –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê
GitLab CI/CD –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–ï –¢–†–û–ì–ê–ï–ú –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ï –î–ê–ù–ù–´–ï!
- `blog/static/profile_pics` - —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `blog/db` - —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- –û—á–∏—â–∞–µ–º —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã!

## –†–ï–®–ï–ù–ò–ï - 3 –ü–†–û–°–¢–´–• –®–ê–ì–ê

### –®–ê–ì 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh ubuntu@10.7.74.252
```

### –®–ê–ì 2: –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã **–û–î–ù–£ –ó–ê –û–î–ù–û–ô**:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl stop flask-helpdesk

# –ò–∑–º–µ–Ω–∏—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ (–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
sudo chown -R $(whoami):$(whoami) /var/www/flask_helpdesk

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞
sudo chmod -R 755 /var/www/flask_helpdesk

# –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã
sudo rm -rf /var/www/flask_helpdesk/flask_session/*
sudo rm -rf /var/www/flask_helpdesk/__pycache__
sudo find /var/www/flask_helpdesk -name "*.pyc" -delete
sudo rm -rf /var/www/flask_helpdesk/venv

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—É—Å—Ç—ã–µ —Å–ª—É–∂–µ–±–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
sudo mkdir -p /var/www/flask_helpdesk/flask_session
sudo mkdir -p /var/www/flask_helpdesk/logs

# –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤
sudo chown -R $(whoami):$(whoami) /var/www/flask_helpdesk
sudo chmod -R 755 /var/www/flask_helpdesk

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å –æ–±—Ä–∞—Ç–Ω–æ
sudo systemctl start flask-helpdesk
```

### –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
ls -la /var/www/flask_helpdesk/

# –¢–µ—Å—Ç –∑–∞–ø–∏—Å–∏
touch /var/www/flask_helpdesk/test_write && rm /var/www/flask_helpdesk/test_write && echo "‚úÖ –ó–∞–ø–∏—Å—å —Ä–∞–±–æ—Ç–∞–µ—Ç!"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl status flask-helpdesk
```

## –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å GitLab CI/CD pipeline –∑–∞–Ω–æ–≤–æ**
2. **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:**
   ```bash
   sudo systemctl restart flask-helpdesk
   sudo systemctl status flask-helpdesk
   ```

## –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –°–ü–û–°–û–ë (–µ—Å–ª–∏ SSH –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### –ß–µ—Ä–µ–∑ GitLab Runner –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
1. –ó–∞–π—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –Ω–∞–ø—Ä—è–º—É—é (–∫–æ–Ω—Å–æ–ª—å/VNC)
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏–∑ –®–ê–ì 2 –≤—ã—à–µ
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å pipeline –≤ GitLab

## –ü–†–û–í–ï–†–ö–ê –£–°–ü–ï–®–ù–û–°–¢–ò

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
- ‚úÖ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/var/www/flask_helpdesk` –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é `ubuntu`
- ‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ `755` –Ω–∞ –≤—Å–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- ‚úÖ –ù–µ—Ç —Ñ–∞–π–ª–æ–≤ `flask_session` –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–∏—Ö `www-data`
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

## –ï–°–õ–ò –ü–†–û–ë–õ–ï–ú–´ –ü–†–û–î–û–õ–ñ–ê–Æ–¢–°–Ø

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `ubuntu` –∏–º–µ–µ—Ç sudo –ø—Ä–∞–≤–∞:
   ```bash
   sudo -l
   ```

2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ GitLab Runner –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
   ```bash
   whoami
   id
   ```

3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É www-data:
   ```bash
   sudo usermod -a -G www-data $(whoami)
   ```

---

**‚è∞ –í–†–ï–ú–Ø –ö–†–ò–¢–ò–ß–ù–û - –í–´–ü–û–õ–ù–ò–¢–ï –ù–ï–ú–ï–î–õ–ï–ù–ù–û!**
